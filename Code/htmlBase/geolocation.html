<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>html5 Geolocation</title>
</head>

<body>
    <p id="demo">点击按钮获得您的坐标：</p>
    <button onclick="getLocation()">获取坐标</button>
    <script>
    var x=document.getElementById("demo");

    function getLocation() {
      if (navigator.geolocation){   //检测是否支持地理定位
              navigator.geolocation.getCurrentPosition(success,error,{
                 enableHighAccuracy: true,//是否要求高精度的地理位置信息
                 timeout: 30000,//对地理位置信息的获取操作做超时限制，如果再该事件内未获取到地理位置信息，将返回错误
                 maximumAge:60*1000//设置缓存有效时间，在该时间段内，获取的地理位置信息还是设置此时间段之前的那次获得的信息，超过这段时间缓存的位置信息会被废弃
              });
        } else{
                x.innerHTML="Geolocation is not supported by this browser.";
                  }
      }
    function success(position) {
      x.innerHTML="Latitude: " + position.coords.latitude +
      "<br />Longitude: " + position.coords.longitude;
      }
    function error(err) {
        console.warn('ERROR(' + err.code + '): ' + err.message);
      }

    </script>
</body>

</html>